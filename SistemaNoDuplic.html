<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resenha Barbershop</title>

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body id="home">
  <!-- GO TOP -->
  <div class="gotop">
      <a href="#home">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-up-short" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"/>
        </svg>
      </a>
  </div>
  <section class="section2">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-auto">
          <img width="150px" src="images/logo.png" alt="">
        </div>
      </div>
    </div>
  </section>

  <section class="section2 pb-0">
    <div class="container">
      <div class="row">
        <div class="col-auto text-white">
          <h2>Nossos serviços</h2>
        </div>
      </div>
    </div>
  </section>

  <section class="section2">
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="box">
            <div class="imgserv">
              <h1>Corte tesoura</h1>
              <img class="imgsrc" src="images/cabelo.png" alt="">
            </div>
            <div class="boxbody">
              <h3>Preço: <strong>R$ 35,00</strong></h3>
              <h3>Duração: <strong>1 Hora</strong></h3>
              <button value="35" onclick="main(value)" class="services btn btn-dark text-white mt-3">Selecionar</button>
            </div>
          </div>

          <!-- Serviço 2 -->
          <div class="box mt-4">
            <div class="imgserv">
              <h1>Heineken</h1>
              <img class="imgsrc" src="images/heineken.jpg" alt="">
            </div>
            <div class="boxbody">
              <h3>Preço: <strong>R$ 10,00</strong></h3>
              <h3>Quantidade selecionada: <strong>0</strong></h3>
              <button value="30" onclick="main(value)" class="services btn btn-dark text-white mt-3">Selecionar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section2" style="margin-top: 100px;">
    <div class="row">
      <div class="col">
        <div class="boxfinal">
          <div class="container">
            <div class="boxfinalbody mt-3">
              <h2>Total: <strong>R$ <span id="valorfinal">0</span>,00</strong></h2>
              <button class="btn btn-dark text-white mt-2" data-bs-toggle="modal" data-bs-target="#exampleModal">Ir para o pagamento</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Finalizar compra</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h2 class="mt-3 mb-4">Preço final: <strong>R$ <span id="valorfinal2">0</span>,00</strong></h2>
          <h3><small>Chave pix: </small><strong>CPF 000.000.000-00</strong></h3>
          <button class="btn btn-dark text-white" onclick="copyText()">Copiar chave pix</button>
          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary text-white" onclick="window.location.reload()">Resetar</button>
          <button type="button" class="btn btn-secondary text-white" data-bs-dismiss="modal">Editar</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    let valorfinal = document.querySelector("#valorfinal");
    let valorfinal2 = document.querySelector("#valorfinal2");
    
    let carrinhoAtual = 0;
    function main(value){   
      carrinhoAtual = addValue(value);//Soma valor do carrinho
      escondeBotao(value);//Esconde o botão selecionado para evitar Duplicação
      exibirValor(carrinhoAtual);//Exibe o valor final
    }

    function addValue(value){
      carrinhoAtual += parseInt(value);
      console.log(carrinhoAtual);
      return carrinhoAtual
    }
    function exibirValor(carrinhoAtual){
      valorfinal.innerHTML = carrinhoAtual
      valorfinal2.innerHTML = valorfinal.innerHTML
    }
    function escondeBotao(value){
      let services = document.querySelectorAll(".services");
      for(let i=0;i<services.length;i++){
        if(services[i].attributes[0].value == value){
          services[i].disabled = true
        }
      }
    }

    function copyText() {
      navigator.clipboard.writeText("000.000.000-00");
      alert("Copiado com sucesso!: 000.000.000-00");
    }

  </script>
  
  <!-- Bootstrap Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>